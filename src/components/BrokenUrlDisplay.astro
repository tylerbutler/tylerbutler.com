---
// BrokenUrlDisplay.astro - Displays the broken URL from query parameters
// Uses client-side JS since static sites can't read query params at build time
---

<div class="url-box">
  <p class="url-label">Original URL:</p>
  <code class="broken-url" id="broken-url">Loading...</code>
</div>

<style>
  .url-box {
    background: var(--code-bg);
    border: 1px solid var(--code-border);
    border-radius: 6px;
    padding: 1.5em;
    margin: 2em 0;
  }

  .url-label {
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--text-light);
    margin: 0 0 0.5em 0;
  }

  .broken-url {
    display: block;
    background: var(--light-bg);
    border: 1px solid var(--code-border);
    border-radius: 4px;
    padding: 0.75em;
    font-family: "Pragmata Pro Mono", "Courier New", monospace;
    font-size: 13px;
    color: var(--text);
    word-break: break-all;
    text-align: left;
  }
</style>

<script is:inline>
  (function () {
    const urlElement = document.getElementById("broken-url");
    if (urlElement) {
      const params = new URLSearchParams(window.location.search);
      const url = params.get("url");
      urlElement.textContent = url || "Unknown URL";
    }
  })();
</script>
