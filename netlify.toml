# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory to change to before starting a build.
  # This is where we will look for package.json/.nvmrc/etc.
  base = ""

  # Directory that contains the deploy-ready HTML files and assets generated by
  # the build. This is relative to the base directory if one has been set, or the
  # root directory if a base has not been set. This sample publishes the
  # directory located at the absolute path "root/project/build-output"
  publish = "dist"

  # Default build command.
  command = "pnpm build"

# Subfont optimization plugin (runs after Astro build)
# Disabled - using manual font management
# [[plugins]]
# package = "netlify-plugin-subfont"
#   [plugins.inputs]
#   # An array of glob patterns for pages on your site
#   # Recursive traversal will start from these
#   entryPoints = ["*.html"]
#
#   # Follow your links across all pages to optimize the fonts across the entire site
#   recursive = true
#
#   # Subfont lets you set CSS font-display value of the optimized subsets
#   # See https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display
#   fontDisplay = "swap"
#
#   # Inline generated CSS @font-face blocks into each page
#   # When set to `false` an external CSS file will be created
#   inlineCss = false
#
#   # Inline generated font subsets into their respective @font-face blocks
#   # When set to `false` external font files will be created
#   inlineFonts = false
#
#   # Include fallbacks so the original font will be loaded when dynamic content gets injected at runtime
#   # When set to `false` external font files will be created
#   fallbacks = true

# Font protection headers
[[headers]]
  for = "/fonts/*"
  [headers.values]
    Referrer-Policy = "same-origin"
    Cache-Control = "public, max-age=31536000, immutable"
